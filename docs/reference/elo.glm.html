<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Compute a (usually logistic) regression model for a series of matches. — elo.glm • elo</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Compute a (usually logistic) regression model for a series of matches. — elo.glm" />
<meta property="og:description" content="Compute a (usually logistic) regression model for a series of matches." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">elo</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.1.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/intro.html">Introduction to Elo Rankings and the 'elo' Package</a>
    </li>
    <li>
      <a href="../articles/running_elos.html">Calculating Running Elo Updates</a>
    </li>
    <li>
      <a href="../articles/comparison_methods.html">Comparison Methods</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/eheinzen/elo/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Compute a (usually logistic) regression model for a series of matches.</h1>
    <small class="dont-index">Source: <a href='https://github.com/eheinzen/elo/blob/master/R/elo.glm.R'><code>R/elo.glm.R</code></a></small>
    <div class="hidden name"><code>elo.glm.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Compute a (usually logistic) regression model for a series of matches.</p>
    </div>

    <pre class="usage"><span class='fu'>elo.glm</span><span class='op'>(</span>
  <span class='va'>formula</span>,
  <span class='va'>data</span>,
  family <span class='op'>=</span> <span class='st'>"binomial"</span>,
  <span class='va'>weights</span>,
  <span class='va'>na.action</span>,
  <span class='va'>subset</span>,
  <span class='va'>...</span>,
  running <span class='op'>=</span> <span class='cn'>FALSE</span>,
  skip <span class='op'>=</span> <span class='fl'>0</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>formula</th>
      <td><p>A formula. See <a href='players.html'>the help page for formulas</a> for details.</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>A <code>data.frame</code> in which to look for objects in <code>formula</code>.</p></td>
    </tr>
    <tr>
      <th>family, weights, ...</th>
      <td><p>Arguments passed to <code><a href='https://rdrr.io/r/stats/glm.html'>glm</a></code>.</p></td>
    </tr>
    <tr>
      <th>na.action</th>
      <td><p>A function which indicates what should happen when the data contain NAs.</p></td>
    </tr>
    <tr>
      <th>subset</th>
      <td><p>An optional vector specifying a subset of observations.</p></td>
    </tr>
    <tr>
      <th>running</th>
      <td><p>Logical, denoting whether to calculate "running" projected probabilities. If true, a model is fit for
group 1 on its own to predict group 2, then groups 1 and 2 to predict 3, then groups 1 through 3 to predict 4, etc.
Groups are determined in <code>formula</code>. Omitting a group term re-runs a glm model to predict each
observation (a potentially time-consuming operation!)</p></td>
    </tr>
    <tr>
      <th>skip</th>
      <td><p>Integer, denoting how many groups to skip before fitting the running models. This is helpful if
groups are small, where glm would have trouble converging for the first few groups. The predicted values are then
set to 0.5 for the skipped groups.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of class <code><a href='https://rdrr.io/r/base/c.html'>c("elo.glm", "glm")</a></code>. If <code>running==TRUE</code>, the class <code>"elo.glm.running"</code>
  is prepended.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The formula syntax is the same as other <code>elo</code> functions. A data.frame
  of indicator variables is built, where an entry is 1 if a team is home, 0 if
  a team didn't play, and -1 if a team is a visitor. Anything passed to <code><a href='players.html'>adjust</a>()</code> in
  <code>formula</code> is also put in the data.frame. A <code><a href='https://rdrr.io/r/stats/glm.html'>glm</a></code> model is then
  run to predict wins or margin of victory.</p>
<p>With this setup, the intercept represents the home-field advantage. Neutral fields can be indicated
  using the <code><a href='players.html'>neutral</a>()</code> function, which sets the intercept to 0.</p>
<p>Note that any weights specified in <code><a href='players.html'>players()</a></code> will be ignored.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='https://rdrr.io/r/stats/glm.html'>glm</a></code>, <code><a href='summary.elo.html'>summary.elo.glm</a></code>, <code><a href='score.html'>score</a></code>,
  <code><a href='elo.mov.html'>mov</a></code>, <code><a href='elo.model.frame.html'>elo.model.frame</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>tournament</span><span class='op'>)</span>
<span class='fu'>elo.glm</span><span class='op'>(</span><span class='fu'><a href='score.html'>score</a></span><span class='op'>(</span><span class='va'>points.Home</span>, <span class='va'>points.Visitor</span><span class='op'>)</span> <span class='op'>~</span> <span class='va'>team.Home</span> <span class='op'>+</span> <span class='va'>team.Visitor</span>, data <span class='op'>=</span> <span class='va'>tournament</span>,
  subset <span class='op'>=</span> <span class='va'>points.Home</span> <span class='op'>!=</span> <span class='va'>points.Visitor</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt; Call:  stats::glm(formula = wins.A ~ . - 1, family = family, data = dat, 
#&gt;     weights = wts, subset = NULL, na.action = stats::na.pass)
#&gt; 
#&gt; Coefficients:
#&gt;              home.field    `Athletic Armadillos`     `Blundering Baboons`  
#&gt;                  1.0307                   1.4289                  -0.9637  
#&gt;          `Cunning Cats`      `Defense-less Dogs`           `Elegant Emus`  
#&gt;                  0.5377                  -1.7413                   0.3931  
#&gt;        `Fabulous Frogs`  `Gallivanting Gorillas`  
#&gt;                  0.8489                   0.3994  
#&gt; 
#&gt; Degrees of Freedom: 51 Total (i.e. Null);  43 Residual
#&gt; Null Deviance:	    70.7 
#&gt; Residual Deviance: 48.04 	AIC: 64.04</div><div class='input'><span class='fu'>elo.glm</span><span class='op'>(</span><span class='fu'><a href='elo.mov.html'>mov</a></span><span class='op'>(</span><span class='va'>points.Home</span>, <span class='va'>points.Visitor</span><span class='op'>)</span> <span class='op'>~</span> <span class='va'>team.Home</span> <span class='op'>+</span> <span class='va'>team.Visitor</span>, data <span class='op'>=</span> <span class='va'>tournament</span>,
  family <span class='op'>=</span> <span class='st'>"gaussian"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt; Call:  stats::glm(formula = wins.A ~ . - 1, family = family, data = dat, 
#&gt;     weights = wts, subset = NULL, na.action = stats::na.pass)
#&gt; 
#&gt; Coefficients:
#&gt;              home.field    `Athletic Armadillos`     `Blundering Baboons`  
#&gt;                  2.6964                   3.1250                  -2.4375  
#&gt;          `Cunning Cats`      `Defense-less Dogs`           `Elegant Emus`  
#&gt;                  0.3125                  -3.5000                  -0.9375  
#&gt;        `Fabulous Frogs`  `Gallivanting Gorillas`  
#&gt;                  0.6875                   0.2500  
#&gt; 
#&gt; Degrees of Freedom: 56 Total (i.e. Null);  48 Residual
#&gt; Null Deviance:	    2161 
#&gt; Residual Deviance: 1295 	AIC: 352.8</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Ethan Heinzen.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


